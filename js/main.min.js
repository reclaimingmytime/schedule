$(function(){function e(e){window.location.href=e}function t(t){const n=$(t).attr("href");n.length&&e(n)}function n(e){document.getElementById(e).click()}function a(e){$("#"+e).length&&n(e)}function i(e){return"none"!==e}function r(e){const t=T.data(e);return void 0!==t&&i(t)}function o(e,t){return e=e.toString(),e.length<t?o("0"+e,t):e}function c(e,t,n){return t<=e&&e<=n}function s(){r("nextday")?t("#nextDay"):!0===T.data("weekoverview")&&t("#nextWeek")}function u(){r("nextweek")&&t("#nextWeek")}function f(){r("prevday")?t("#prevDay"):!0===T.data("weekoverview")&&t("#prevWeek")}function d(){r("prevweek")&&t("#prevWeek")}function l(){!0===T.data("enabletodaylink")&&t("#today")}function h(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}function v(e,t){return o(e,2)+":"+o(t,2)}function k(e){return Math.ceil(e/6e4)}function g(e){return e%60}function w(e){return Math.floor(e/60)}function m(e,t){var n=new Date(e).getTime();return n-t}function y(e){return e<1?"< 1 m":e<60?e+" m":e%60==0?w(e)+" h":w(e)+" h "+g(e)+" m"}function p(e){return y(e)+" remaining"}function b(e,t){var n=e.find(".card-footer");n.find(".timeRemaining").html(t),n.removeClass("d-none")}function x(e){e.find(".card-footer").addClass("d-none")}function C(e,t,n){var a=m(e,t),i=k(a);if(i>=0){var r=p(i);b(n,r)}}function D(e,t,n){void 0!==t&&$(e).removeClass(t),void 0!==n&&$(e).addClass(n)}function A(e,t,n,a,i,r,o,s){var u=$(e).closest(".card");c(t,a,i)?(C(r,n,u),D(e,s,o)):(x(u),D(e,o,s))}function E(e,t){$("div[data-start].today").val(function(){const n=$(this).data("type"),a=$(this).data("start"),i=$(this).data("end"),r=$(this).data("enddatetime");"event"==n?A(this,e,t,a,i,r,B,void 0):"extraEvent"==n?A(this,e,t,a,i,r,B,K):"break"==n&&A(this,e,t,a,i,r,void 0,"d-none")})}function W(){const e=new Date,t=v(e.getHours(),e.getMinutes()),n=e.getTime();R!=e.getDate()&&window.location.reload(),M!==t&&(M=t,L.html(t),!0===T.data("highlightevents")&&E(t,n))}const T=$("head");$.fn.hasActiveClass=function(){return this.hasClass("active")},$.fn.isVisible=function(){return this.is(":visible")},$.fn.capitalizeFirstLetter=function(){return this.charAt(0).toUpperCase()+this.slice(1)},1==h()&&$("html").swipe({swipeLeft:function(e,t,n,a,i){1!==i&&0!==i||s(),2===i&&u()},swipeRight:function(e,t,n,a,i){1!==i&&0!==i||f(),2===i&&d()},fingers:"all",threshold:"125"}),$(document).on("keydown",function(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey)){switch(e.key){case"a":case"ArrowLeft":f();break;case"d":case"ArrowRight":s();break;case"w":u();break;case"s":d();break;case"Enter":l();break;case"t":t("#overviewType");break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{const n="#key"+e.key;$(n).length&&!$(n).hasActiveClass()&&t(n),$(n).hasActiveClass()&&$(n).isVisible()&&a("classNavButton");break}case"c":a("classNavButton");break;case"x":a("extraEventsButton");break;default:return}e.preventDefault()}});const B=T.data("highlightclasses"),K=T.data("extraclasses"),L=$(".currentTime");var M=L.text(),R=(new Date).getDate();W(),setInterval(function(){W()},5e3),$('[data-toggle="tooltip"]').tooltip(),"serviceWorker"in navigator&&!0===T.data("hasmanifest")&&navigator.serviceWorker.register("serviceworker.min.js").then(function(e){}).catch(function(e){})});