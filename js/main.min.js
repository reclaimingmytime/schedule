$(function(){function d(a){a=$(a).attr("href");a.length&&(window.location.href=a)}function e(a){$("#"+a).isVisible()&&document.getElementById(a).click()}function g(a){a=c.data(a);return void 0!==a&&"none"!==a}function h(a,b){a=a.toString();return a.length<b?h("0"+a,b):a}function n(){g("nextday")?d("#nextDay"):g("nextweek")&&!0===c.data("weekoverview")&&d("#nextWeek")}function p(){g("prevday")?d("#prevDay"):g("prevweek")&&!0===c.data("weekoverview")&&d("#prevWeek")}function q(){g("nextweek")&&d("#nextWeek")}
function r(){g("prevweek")&&d("#prevWeek")}function t(a,b,f){a=(new Date(a)).getTime()-b;a=Math.ceil(a/6E4);0<=a&&(a=(1>a?"< 1 min":60>a?a+" min":0==a%60?Math.floor(a/60)+" h":Math.floor(a/60)+" h "+a%60+" min")+" remaining",f=f.find(".card-footer"),f.find(".timeRemaining").html(a),f.removeClass("d-none"))}function u(a,b,f){void 0!==b&&$(a).removeClass(b);void 0!==f&&$(a).addClass(f)}function k(a,b,f,d,l,c,e,g,h,k=-1){var m=$(a).closest(".card");0==k&&b<d?t(c,f,m):d<=b&&b<=l?(t(e,f,m),u(a,h,g)):(m.find(".card-footer").addClass("d-none"),
u(a,g,h))}function A(a,b){$("div[data-start].today").val(function(f){const d=$(this).data("type"),l=$(this).data("start"),c=$(this).data("end"),e=$(this).data("startdatetime"),g=$(this).data("enddatetime");"event"==d?k(this,a,b,l,c,e,g,v,void 0,f):"extraEvent"==d?k(this,a,b,l,c,e,g,v,B):"break"==d&&k(this,a,b,l,c,e,g,void 0,"d-none")})}function w(){const a=new Date;var b=a.getHours();var f=a.getMinutes();b=h(b,2)+":"+h(f,2);f=a.getTime();C!=a.getDate()&&window.location.reload();x!==b&&(x=b,y.html(b),
!0===c.data("highlightevents")&&A(b,f))}const c=$("head");$.fn.hasActiveClass=function(){return this.hasClass("active")};$.fn.isVisible=function(){return this.is(":visible")};$.fn.capitalizeFirstLetter=function(){return this.charAt(0).toUpperCase()+this.slice(1)};try{document.createEvent("TouchEvent");var z=!0}catch(a){z=!1}1==z&&$("html").swipe({swipeLeft:function(a,b,f,d,c){1!==c&&0!==c||n();2===c&&q()},swipeRight:function(a,b,c,d,e){1!==e&&0!==e||p();2===e&&r()},fingers:"all",threshold:"125"});
openExtraEventsNav=openClassNav=!1;$(document).on("keydown",function(a){if(!(a.ctrlKey||a.metaKey||a.altKey||a.shiftKey)){switch(a.key){case "a":case "ArrowLeft":p();break;case "d":case "ArrowRight":n();break;case "w":q();break;case "s":r();break;case "Enter":!0===c.data("enabletodaylink")&&d("#today");break;case "t":d("#overviewType");break;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":if(openClassNav){var b="#classKey"+a.key;$(b).length&&!$(b).hasActiveClass()&&
d(b);$(b).hasActiveClass()&&$(b).isVisible()&&(e("classNavButton"),openClassNav=!openClassNav)}openExtraEventsNav&&(b="#eventsKey"+a.key,$(b).length&&d(b));break;case "c":e("classNavButton");e("classFooterButton");openClassNav=!openClassNav;break;case "x":e("extraEventsFooterButton");e("extraEventsButton");openExtraEventsNav=!openExtraEventsNav;break;case "e":e("themeSwitcher");break;case "n":e("nextEventBtn");break;default:return}a.preventDefault()}});const v=c.data("highlightclasses"),B=c.data("extraclasses"),
y=$(".currentTime");var x=y.text(),C=(new Date).getDate();w();setInterval(function(){w()},5E3);!1===c.data("pickedtheme")&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&e("themeSwitcher");"serviceWorker"in navigator&&!0===c.data("hasmanifest")&&navigator.serviceWorker.register("serviceworker.min.js").then(function(a){}).catch(function(a){});$('[data-toggle="tooltip"]').tooltip()});