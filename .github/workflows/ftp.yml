name: CI

on:
  push:
    branches: [master]
    paths-ignore:
      # Git and GitHub
      - '.github/**'
      - '.gitignore'
      - '.git-ftp-ignore'
      - '.git-ftp-include'
      - '.README.**'
      # schedule-specific
      - 'config.default.php'

jobs:
  ftp-deploy:
    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
       
    - name: FTP Deploy
      uses: SamKirkland/FTP-Deploy-Action@3.1.0
      with:
        # Deployment destination server & path. Formatted as protocol://domain.com:port/full/destination/path/
        ftp-server: ${{ secrets.FTP_URL }}
        ftp-username: ${{ secrets.FTP_USER }}
        ftp-password: ${{ secrets.FTP_PASS }}
        # The local folder to copy, defaults to root project folder
        # local-dir: # optional, default is ./
        # Passes through options into git-ftp
        # git-ftp-args: # optional
